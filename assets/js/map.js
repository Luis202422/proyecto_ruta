var map = L.map('map', {
    center: [-18.00683053, -70.25706698],
    zoom: 15,
    minZoom: 5,
    maxZoom: 30,
    maxBounds: [[-18.8681, -70.5245], [-15.9593, -69.9777]]
});

// Adding a polyline
var polylinePoints = [
	{ lat:  -18.03200345 , lng:  -70.28573437  },
	{ lat:  -18.03203673 , lng:  -70.28576765  },
	{ lat:  -18.0321921 , lng:  -70.2855825  },
	{ lat:  -18.0315827 , lng:  -70.2849627  },
	{ lat:  -18.0309688 , lng:  -70.2843383  },
	{ lat:  -18.0303092 , lng:  -70.2836625  },
	{ lat:  -18.0299703 , lng:  -70.2840177  },
	{ lat:  -18.0281188 , lng:  -70.282183  },
	{ lat:  -18.0274261 , lng:  -70.2815623  },
	{ lat:  -18.0273224 , lng:  -70.2814487  },
	{ lat:  -18.0258144 , lng:  -70.2794138  },
	{ lat:  -18.0252716 , lng:  -70.2786442  },
	{ lat:  -18.0245449 , lng:  -70.2777091  },
	{ lat:  -18.0245039 , lng:  -70.2776637  },
	{ lat:  -18.0233027 , lng:  -70.2764726  },
	{ lat:  -18.02239 , lng:  -70.2756061  },
	{ lat:  -18.0218769 , lng:  -70.2750886  },
	{ lat:  -18.021173 , lng:  -70.2743858  },
	{ lat:  -18.0207673 , lng:  -70.2739187  },
	{ lat:  -18.020446 , lng:  -70.2735168  },
	{ lat:  -18.0198463 , lng:  -70.2727895  },
	{ lat:  -18.0189103 , lng:  -70.2716717  },
	{ lat:  -18.0183527 , lng:  -70.2709531  },
	{ lat:  -18.0172296 , lng:  -70.2693349  },
	{ lat:  -18.0165399 , lng:  -70.2683256  },
	{ lat:  -18.0162661 , lng:  -70.2679072  },
	{ lat:  -18.0157464 , lng:  -70.2670086  },
	{ lat:  -18.0148192 , lng:  -70.2654889  },
	{ lat:  -18.0133908 , lng:  -70.2634572  },
	{ lat:  -18.0123502 , lng:  -70.2619859  },
	{ lat:  -18.0122443 , lng:  -70.261703  },
	{ lat:  -18.0119632 , lng:  -70.2598087  },
	{ lat:  -18.0117468 , lng:  -70.2598295  },
	{ lat:  -18.0116589 , lng:  -70.2598295  },
	{ lat:  -18.0116308 , lng:  -70.2598147  },
	{ lat:  -18.0113694 , lng:  -70.2593949  },
	{ lat:  -18.0111283 , lng:  -70.2588692  },
	{ lat:  -18.0110806 , lng:  -70.2587803  },
	{ lat:  -18.01108067 , lng:  -70.25855091  },
	{ lat:  -18.00996088 , lng:  -70.25792249  },
	{ lat:  -18.0094832 , lng:  -70.25769931  },
	{ lat:  -18.00919346 , lng:  -70.25760535  },
	{ lat:  -18.00703609 , lng:  -70.25725688  },
	{ lat:  -18.00683053 , lng:  -70.25720989  },
	{ lat:  -18.00677572 , lng:  -70.25719227  },
	{ lat:  -18.00670916 , lng:  -70.25713746  },
	{ lat:  -18.00663477 , lng:  -70.25706698  },
	{ lat:  -18.00657408 , lng:  -70.25700238  },
	{ lat:  -18.00648598 , lng:  -70.2569182  },
	{ lat:  -18.00602592 , lng:  -70.25648359  },
	{ lat:  -18.00587616 , lng:  -70.25640675  },
	{ lat:  -18.0047745 , lng:  -70.2572367  },
	{ lat:  -18.0046405 , lng:  -70.2572387  },
	{ lat:  -18.0040776 , lng:  -70.2576571  },
	{ lat:  -18.00397 , lng:  -70.2575772  },
	{ lat:  -18.0033743 , lng:  -70.2566599  },
	{ lat:  -18.0030046 , lng:  -70.2560941  },
	{ lat:  -18.0018764 , lng:  -70.2543551  },
	{ lat:  -17.9989048 , lng:  -70.2497869  },
	{ lat:  -17.9978907 , lng:  -70.2481242  },
	{ lat:  -17.997606 , lng:  -70.2474535  },
	{ lat:  -17.99739448 , lng:  -70.24644408  },
	{ lat:  -17.99737784 , lng:  -70.24503846  },
	{ lat:  -17.99735729 , lng:  -70.24495624  },
	{ lat:  -17.99729464 , lng:  -70.24489359  },
	{ lat:  -17.99719969 , lng:  -70.24486814  },
	{ lat:  -17.99413787 , lng:  -70.24491121  },
	{ lat:  -17.9937855 , lng:  -70.2449083  },
	{ lat:  -17.9933252 , lng:  -70.2448199  },
	{ lat:  -17.9931639 , lng:  -70.2447286  },
	{ lat:  -17.9929825 , lng:  -70.2445806  },
	{ lat:  -17.9929032 , lng:  -70.244412  },
	{ lat:  -17.9929092 , lng:  -70.2443053  },
	{ lat:  -17.992897 , lng:  -70.2439711  },
	{ lat:  -17.9928876 , lng:  -70.2437133  },
	{ lat:  -17.9928332 , lng:  -70.2435458  },
	{ lat:  -17.9919986 , lng:  -70.2423262  },
	{ lat:  -17.9913847 , lng:  -70.2414812  },
	{ lat:  -17.9904465 , lng:  -70.2401894  },
	{ lat:  -17.9896144 , lng:  -70.2390322  },
	{ lat:  -17.9889645 , lng:  -70.2382015  },
	{ lat:  -17.988761 , lng:  -70.2383523  },
	{ lat:  -17.98872682 , lng:  -70.23829962  }
];
var polyline = L.polyline(polylinePoints, { color: 'red' }).addTo(map);

L.control.scale().addTo(map);

// Adding OpenStreetMap basemap
var basemapOSM = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map); // <-- Added .addTo(map) here

// Adding a WMS tile layer for 'centros'
var centros = L.tileLayer.wms("http://localhost:8080/geoserver/ilo_turistito/wms?", {
    layers: "ilo_turistito:parques", // Replace with your specific layer name
    format: 'image/png',
    transparent: true,
    version: '1.1.1',
    attribution: "SENCICO"
}).addTo(map); // <-- Added .addTo(map) here
